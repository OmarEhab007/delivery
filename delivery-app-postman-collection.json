{
  "info": {
    "name": "Delivery App API",
    "description": "API collection for testing the Delivery Application",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "merchantToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "truckOwnerToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "driverToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "url": "http://localhost:3000/health",
        "description": "Check if the server is running"
      },
      "response": []
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Admin (by Admin)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/register/admin",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Another Admin User\",\n    \"email\": \"anotheradmin@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"+1234567890\",\n    \"role\": \"Admin\",\n    \"adminPermissions\": [\"FULL_ACCESS\"]\n}"
            },
            "description": "Register a new admin user (must be done by an existing admin)"
          },
          "response": []
        },
        {
          "name": "Register Merchant",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/register/merchant",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Test Merchant\",\n    \"email\": \"merchant@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"+1234567890\",\n    \"role\": \"Merchant\"\n}"
            },
            "description": "Register a new merchant user"
          },
          "response": []
        },
        {
          "name": "Register Truck Owner",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/register/truckOwner",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Test Truck Owner\",\n    \"email\": \"truckowner@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"+1234567890\",\n    \"role\": \"TruckOwner\",\n    \"companyName\": \"Test Trucking Co.\",\n    \"companyAddress\": \"123 Truck St, City\"\n}"
            },
            "description": "Register a new truck owner user"
          },
          "response": []
        },
        {
          "name": "Register Driver (by Truck Owner)",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/register/driver",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Test Driver\",\n    \"email\": \"driver@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"+1234567890\",\n    \"role\": \"Driver\",\n    \"licenseNumber\": \"DL12345678\"\n}"
            },
            "description": "Register a new driver (must be done by a truck owner)"
          },
          "response": []
        },
        {
          "name": "Login - Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"adminToken\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/login",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@deliveryapp.com\",\n    \"password\": \"admin123456\"\n}"
            },
            "description": "Login as admin and save the token"
          },
          "response": []
        },
        {
          "name": "Login - Merchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"merchantToken\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/login",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"merchant@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "description": "Login as merchant and save the token"
          },
          "response": []
        },
        {
          "name": "Login - Truck Owner",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"truckOwnerToken\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/login",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"truckowner@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "description": "Login as truck owner and save the token"
          },
          "response": []
        },
        {
          "name": "Login - Driver",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"driverToken\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/login",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"driver@example.com\",\n    \"password\": \"password123\"\n}"
            },
            "description": "Login as driver and save the token"
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/auth/me",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Get the current user's profile (can use any user token)"
          },
          "response": []
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/auth/forgotPassword",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"merchant@example.com\"\n}"
            },
            "description": "Request a password reset token"
          },
          "response": []
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/auth/resetPassword/:token",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"password\": \"newpassword123\"\n}"
            },
            "description": "Reset password using token received via email"
          },
          "response": []
        },
        {
          "name": "Update Password",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/auth/updatePassword",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"currentPassword\": \"password123\",\n    \"newPassword\": \"newpassword123\"\n}"
            },
            "description": "Update password for logged in user"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Dashboard",
          "item": [
            {
              "name": "Get Dashboard Stats",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/admin/dashboard",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get dashboard statistics for admin overview"
              },
              "response": []
            }
          ]
        },
        {
          "name": "User Management",
          "item": [
            {
              "name": "Get All Users",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/admin/users?page=1&limit=10&role=Merchant",
                  "host": ["{{baseUrl}}"],
                  "path": ["admin", "users"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "role",
                      "value": "Merchant",
                      "description": "Optional - Filter by role (Admin, Merchant, TruckOwner, Driver)"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get all users with pagination and filtering options"
              },
              "response": []
            },
            {
              "name": "Get User by ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/admin/users/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get a specific user by ID"
              },
              "response": []
            },
            {
              "name": "Create User",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/admin/users",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"New User\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\",\n    \"phone\": \"+1234567890\",\n    \"role\": \"Merchant\"\n}"
                },
                "description": "Create a new user (any role) as admin"
              },
              "response": []
            },
            {
              "name": "Update User",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/admin/users/:id",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"Updated Name\",\n    \"email\": \"updated.email@example.com\",\n    \"phone\": \"+9876543210\",\n    \"active\": true\n}"
                },
                "description": "Update a user's information"
              },
              "response": []
            },
            {
              "name": "Delete User",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/admin/users/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Delete a user"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Shipment Management",
          "item": [
            {
              "name": "Get All Shipments",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/admin/shipments?page=1&limit=10&status=Pending",
                  "host": ["{{baseUrl}}"],
                  "path": ["admin", "shipments"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "status",
                      "value": "Pending",
                      "description": "Optional - Filter by status"
                    },
                    {
                      "key": "merchantId",
                      "value": "",
                      "description": "Optional - Filter by merchant ID",
                      "disabled": true
                    },
                    {
                      "key": "truckId",
                      "value": "",
                      "description": "Optional - Filter by truck ID",
                      "disabled": true
                    },
                    {
                      "key": "startDate",
                      "value": "",
                      "description": "Optional - Filter by start date",
                      "disabled": true
                    },
                    {
                      "key": "endDate",
                      "value": "",
                      "description": "Optional - Filter by end date",
                      "disabled": true
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get all shipments with pagination and filtering options"
              },
              "response": []
            },
            {
              "name": "Get Shipment by ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/admin/shipments/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get a specific shipment by ID"
              },
              "response": []
            },
            {
              "name": "Update Shipment",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/admin/shipments/:id",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"status\": \"InTransit\",\n    \"pickupLocation\": \"Updated Pickup Location\",\n    \"deliveryLocation\": \"Updated Delivery Location\",\n    \"cargo\": {\n        \"description\": \"Updated Cargo Description\",\n        \"weight\": 600,\n        \"dimensions\": \"110x60x40\"\n    },\n    \"price\": 1800\n}"
                },
                "description": "Update a shipment's details"
              },
              "response": []
            },
            {
              "name": "Delete Shipment",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/admin/shipments/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Delete a shipment"
              },
              "response": []
            },
            {
              "name": "Change Shipment Status",
              "request": {
                "method": "PATCH",
                "url": "{{baseUrl}}/admin/shipments/:id/status",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"status\": \"Delivered\"\n}"
                },
                "description": "Change a shipment's status"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Application Management",
          "item": [
            {
              "name": "Get All Applications",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/admin/applications?page=1&limit=10&status=Pending",
                  "host": ["{{baseUrl}}"],
                  "path": ["admin", "applications"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "status",
                      "value": "Pending",
                      "description": "Optional - Filter by status"
                    },
                    {
                      "key": "truckOwnerId",
                      "value": "",
                      "description": "Optional - Filter by truck owner ID",
                      "disabled": true
                    },
                    {
                      "key": "truckId",
                      "value": "",
                      "description": "Optional - Filter by truck ID",
                      "disabled": true
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get all applications with pagination and filtering options"
              },
              "response": []
            },
            {
              "name": "Get Application by ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/admin/applications/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get a specific application by ID"
              },
              "response": []
            },
            {
              "name": "Delete Application",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/admin/applications/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Delete an application"
              },
              "response": []
            },
            {
              "name": "Update Application Status",
              "request": {
                "method": "PATCH",
                "url": "{{baseUrl}}/admin/applications/:id/status",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"status\": \"Approved\",\n    \"adminNotes\": \"Application approved after verification\"\n}"
                },
                "description": "Update an application's status"
              },
              "response": []
            },
            {
              "name": "Get Application Stats",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/admin/applications/stats",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get application statistics"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Truck Management",
          "item": [
            {
              "name": "Get All Trucks",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{baseUrl}}/admin/trucks?page=1&limit=10&status=Available",
                  "host": ["{{baseUrl}}"],
                  "path": ["admin", "trucks"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1"
                    },
                    {
                      "key": "limit",
                      "value": "10"
                    },
                    {
                      "key": "status",
                      "value": "Available",
                      "description": "Optional - Filter by status"
                    },
                    {
                      "key": "ownerId",
                      "value": "",
                      "description": "Optional - Filter by owner ID",
                      "disabled": true
                    },
                    {
                      "key": "driverId",
                      "value": "",
                      "description": "Optional - Filter by driver ID",
                      "disabled": true
                    },
                    {
                      "key": "truckType",
                      "value": "",
                      "description": "Optional - Filter by truck type",
                      "disabled": true
                    },
                    {
                      "key": "licensePlate",
                      "value": "",
                      "description": "Optional - Filter by license plate",
                      "disabled": true
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get all trucks with pagination and filtering options"
              },
              "response": []
            },
            {
              "name": "Get Truck by ID",
              "request": {
                "method": "GET",
                "url": "{{baseUrl}}/admin/trucks/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Get a specific truck by ID"
              },
              "response": []
            },
            {
              "name": "Create Truck",
              "request": {
                "method": "POST",
                "url": "{{baseUrl}}/admin/trucks",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"licensePlate\": \"TRK5678\",\n    \"truckType\": \"Refrigerated\",\n    \"capacity\": 15000,\n    \"ownerId\": \"{{truckOwnerId}}\",\n    \"specifications\": {\n        \"length\": 48,\n        \"width\": 8.5,\n        \"height\": 9.5,\n        \"features\": [\"Temperature Control\", \"GPS Tracking\"]\n    }\n}"
                },
                "description": "Create a new truck"
              },
              "response": []
            },
            {
              "name": "Update Truck",
              "request": {
                "method": "PUT",
                "url": "{{baseUrl}}/admin/trucks/:id",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"licensePlate\": \"TRK5679\",\n    \"truckType\": \"Refrigerated\",\n    \"capacity\": 16000,\n    \"status\": \"Available\",\n    \"specifications\": {\n        \"length\": 48,\n        \"width\": 8.5,\n        \"height\": 9.5,\n        \"features\": [\"Temperature Control\", \"GPS Tracking\", \"Tail Lift\"]\n    }\n}"
                },
                "description": "Update a truck's details"
              },
              "response": []
            },
            {
              "name": "Delete Truck",
              "request": {
                "method": "DELETE",
                "url": "{{baseUrl}}/admin/trucks/:id",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "description": "Delete a truck"
              },
              "response": []
            },
            {
              "name": "Change Truck Status",
              "request": {
                "method": "PATCH",
                "url": "{{baseUrl}}/admin/trucks/:id/status",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{adminToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"status\": \"InMaintenance\"\n}"
                },
                "description": "Change a truck's status"
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/users/updateMe",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Merchant Name\",\n    \"phone\": \"+1987654321\"\n}"
            },
            "description": "Update current user's profile"
          },
          "response": []
        },
        {
          "name": "Delete Profile",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/users/deleteMe",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Soft delete current user's profile"
          },
          "response": []
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/users",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Get all users (future admin-only endpoint)"
          },
          "response": []
        },
        {
          "name": "Get My Drivers",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/users/myDrivers",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Get all drivers for the current truck owner"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Truck Management",
      "item": [
        {
          "name": "Create Truck",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"truckId\", jsonData.data.truck._id);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/trucks",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"plateNumber\": \"ABC123\",\n    \"model\": \"Volvo FH16\",\n    \"capacity\": 10000,\n    \"year\": 2020\n}"
            },
            "description": "Create a new truck (truck owner only)"
          },
          "response": []
        },
        {
          "name": "Get My Trucks",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/trucks",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Get all trucks for the current truck owner"
          },
          "response": []
        },
        {
          "name": "Search Trucks",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/trucks/search?model=Volvo&minCapacity=5000",
              "host": ["{{baseUrl}}"],
              "path": ["trucks", "search"],
              "query": [
                {
                  "key": "model",
                  "value": "Volvo"
                },
                {
                  "key": "minCapacity",
                  "value": "5000"
                }
              ]
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Search for trucks with filters"
          },
          "response": []
        },
        {
          "name": "Get Truck by ID",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/trucks/:truckId",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Get a single truck by ID"
          },
          "response": []
        },
        {
          "name": "Update Truck",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/trucks/:truckId",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"model\": \"Volvo FH16 Updated\",\n    \"capacity\": 12000\n}"
            },
            "description": "Update a truck by ID"
          },
          "response": []
        },
        {
          "name": "Delete Truck",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/trucks/:truckId",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Delete a truck by ID"
          },
          "response": []
        },
        {
          "name": "Assign Driver to Truck",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/trucks/:truckId/assign/:driverId",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Assign a driver to a truck"
          },
          "response": []
        }
      ],
      "variable": [
        {
          "key": "truckId",
          "value": ""
        }
      ]
    },
    {
      "name": "Shipment Management",
      "item": [
        {
          "name": "Create Shipment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"shipmentId\", jsonData.data.shipment._id);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/shipments",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"origin\": {\n        \"address\": \"123 Main St, Origin City\"\n    },\n    \"destination\": {\n        \"address\": \"456 Elm St, Destination City\"\n    },\n    \"cargoDetails\": {\n        \"description\": \"Electronics\",\n        \"weight\": 500\n    }\n}"
            },
            "description": "Create a new shipment (merchant only)"
          },
          "response": []
        },
        {
          "name": "Get My Shipments",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/shipments",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Get all shipments for the current merchant"
          },
          "response": []
        },
        {
          "name": "Search Shipments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/shipments/search?status=REQUESTED&minWeight=100",
              "host": ["{{baseUrl}}"],
              "path": ["shipments", "search"],
              "query": [
                {
                  "key": "status",
                  "value": "REQUESTED"
                },
                {
                  "key": "minWeight",
                  "value": "100"
                }
              ]
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Search for shipments with filters"
          },
          "response": []
        },
        {
          "name": "Get Shipment Applications",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/shipments/:shipmentId/applications",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Get all applications for a specific shipment"
          },
          "response": []
        },
        {
          "name": "Get Shipment by ID",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/shipments/:shipmentId",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Get a single shipment by ID"
          },
          "response": []
        },
        {
          "name": "Update Shipment",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/shipments/:shipmentId",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"destination\": {\n        \"address\": \"789 Pine St, New Destination City\"\n    },\n    \"cargoDetails\": {\n        \"weight\": 600\n    }\n}"
            },
            "description": "Update a shipment by ID (only if status is REQUESTED)"
          },
          "response": []
        },
        {
          "name": "Cancel Shipment",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/shipments/:shipmentId/cancel",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"reason\": \"Changed my mind about shipping\"\n}"
            },
            "description": "Cancel a shipment (merchant only)"
          },
          "response": []
        },
        {
          "name": "Add Timeline Entry",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/shipments/:shipmentId/timeline",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{driverToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"status\": \"PICKED_UP\",\n    \"note\": \"Cargo picked up from origin\"\n}"
            },
            "description": "Add a timeline entry to a shipment (accessible by TruckOwner or assigned Driver)"
          },
          "response": []
        }
      ],
      "variable": [
        {
          "key": "shipmentId",
          "value": ""
        }
      ]
    },
    {
      "name": "Application Management",
      "item": [
        {
          "name": "Create Application",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"applicationId\", jsonData.data.application._id);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/applications",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"shipmentId\": \"{{shipmentId}}\",\n    \"truckId\": \"{{truckId}}\",\n    \"driverId\": \"{{driverId}}\",\n    \"bidDetails\": {\n        \"price\": 1000,\n        \"currency\": \"USD\",\n        \"notes\": \"Expedited delivery available\",\n        \"validUntil\": \"2023-12-31T23:59:59Z\"\n    }\n}"
            },
            "description": "Create a new application for a shipment (truck owner only)"
          },
          "response": []
        },
        {
          "name": "Get My Applications",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/applications",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Get all applications for the current truck owner"
          },
          "response": []
        },
        {
          "name": "Get Application by ID",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/applications/:applicationId",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Get a single application by ID"
          },
          "response": []
        },
        {
          "name": "Update Application",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/applications/:applicationId",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"bidDetails\": {\n        \"price\": 1200,\n        \"notes\": \"Updated offer with premium service\"\n    }\n}"
            },
            "description": "Update an application (truck owner only, and only if status is PENDING)"
          },
          "response": []
        },
        {
          "name": "Cancel Application",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/applications/:applicationId/cancel",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{truckOwnerToken}}"
              }
            ],
            "description": "Cancel an application (truck owner only)"
          },
          "response": []
        },
        {
          "name": "Accept Application",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/applications/:applicationId/accept",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "description": "Accept an application (merchant only)"
          },
          "response": []
        },
        {
          "name": "Reject Application",
          "request": {
            "method": "PATCH",
            "url": "{{baseUrl}}/applications/:applicationId/reject",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{merchantToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"reason\": \"Price too high\"\n}"
            },
            "description": "Reject an application (merchant only)"
          },
          "response": []
        }
      ],
      "variable": [
        {
          "key": "applicationId",
          "value": ""
        },
        {
          "key": "driverId",
          "value": ""
        }
      ]
    }
  ]
} 